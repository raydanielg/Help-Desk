import{L as x}from"./Layout-CCj0oP25.js";import{T as v}from"./TextInput-BV_CAnm2.js";import{S as w,t as k,p as N}from"./SearchInput-Btdhsrxv.js";import{T as V}from"./TextareaInput-CORLWzzy.js";import{P as j}from"./Pagination-CmEu2SMB.js";import{I as C}from"./moment-BbZOc2s_.js";import{i as F,Z as S,r as d,c as l,a as n,b as e,F as I,j as B,h as c,d as L,o as a,t as f}from"./app-a1pcr069.js";import{_ as T}from"./FlashMessages-CFOcLP80.js";import"./v4-SoommWqA.js";const D={layout:x,components:{Link:F,Head:S,SearchInput:w,Icon:C,TextareaInput:V,TextInput:v,Pagination:j},props:{filters:Object,title:String,notes:Object},data(){return{update_id:null,note_form:!1,searchFilter:{search:this.filters.search},form:this.$inertia.form({id:null,name:null,color:null,details:null})}},watch:{searchFilter:{deep:!0,handler:k(function(){this.$inertia.get(this.route("notes"),N(this.searchFilter),{preserveState:!0})},150)}},methods:{updateNote(r){this.form.name=r.name??null,this.form.details=r.details??null,this.form.id=r.id??null,this.update_id=r.id??null,this.note_form=!0},addNew(){this.updateNote({}),this.note_form=!0},destroy(){confirm("Are you sure you want to delete this note?")&&this.$inertia.delete(this.route("notes.delete",this.update_id),{onSuccess:()=>{this.resetForm()}})},store(r){this.form.post(this.route("notes.save",r),{onSuccess:()=>{this.resetForm()}})},resetForm(){this.note_form=!1,this.form.reset(),this.update_id=null}}},H={class:"mb-6 flex justify-center items-center"},U={class:""},O={class:"mx-auto container py-6 px-2"},P={class:"grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},z=["onClick"],A={class:"font-bold mb-3"},E={class:"text-sm"},M={class:"flex items-center justify-between"},R={class:"text-sm"},Z=["onClick"],q={key:0,class:"flex justify-center items-center text-center font-bold"},G={class:"flex justify-center"},J={key:0,class:"note-form-overlay"},K={key:1,class:"note-form py-8 transition duration-150 ease-in-out z-10 absolute top-0 right-0 bottom-0 left-0",id:"modal"},Q={role:"alert",class:"container mx-auto"},W={class:"relative py-10 px-6 md:px-10 bg-white shadow-md rounded border border-gray-400"},X={class:"flex justify-between"},Y={class:"flex items-center justify-start w-full"},$={class:"flex"};function ee(r,o,u,te,s,i){const p=d("Head"),h=d("search-input"),m=d("icon"),g=d("pagination"),_=d("text-input"),y=d("textarea-input");return a(),l("div",null,[n(p,{title:r.$t(u.title)},null,8,["title"]),e("div",H,[n(h,{modelValue:s.searchFilter.search,"onUpdate:modelValue":o[0]||(o[0]=t=>s.searchFilter.search=t),class:"w-full max-w-md mr-4 rtl:ml-4",disableReset:!0},null,8,["modelValue"]),e("div",{class:"btn-indigo p-3 rounded-full cursor-pointer",onClick:o[1]||(o[1]=(...t)=>i.addNew&&i.addNew(...t))},[n(m,{class:"w-5 h-5 fill-gray-100",name:"plus"})])]),e("div",U,[e("div",O,[e("div",P,[(a(!0),l(I,null,B(u.notes.data,t=>(a(),l("div",{class:"rounded bg-white cursor-pointer transform hover:scale-105 duration-300 transition-transform shadow-md rounded-lg border mb-6 py-5 px-4",key:t.id},[e("div",{class:"w-full h-64 flex flex-col justify-between",onClick:b=>i.updateNote(t)},[e("div",null,[e("h4",A,f(t.name),1),e("p",E,f(t.details.length<100?t.details:t.details.substring(0,100)+"..."),1)]),e("div",null,[e("div",M,[e("p",R,f(t.created_at),1),e("button",{onClick:b=>i.updateNote(t),class:"w-8 h-8 rounded-full bg-gray-900 text-white flex items-center justify-center","aria-label":"edit note",role:"button"},[n(m,{name:"edit",class:"w-4 h-4 fill-gray-100"})],8,Z)])])],8,z)]))),128))]),u.notes.data.length?c("",!0):(a(),l("h4",q,"No note found."))])]),e("div",G,[n(g,{class:"mt-6",links:u.notes.links},null,8,["links"])]),s.note_form?(a(),l("div",J)):c("",!0),s.note_form?(a(),l("div",K,[e("div",Q,[e("form",{onSubmit:o[7]||(o[7]=L(t=>i.store(s.update_id),["prevent"]))},[e("div",W,[n(_,{modelValue:s.form.name,"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.name=t),error:s.form.errors.name,class:"pb-6 w-full",label:"Name"},null,8,["modelValue","error"]),n(y,{modelValue:s.form.details,"onUpdate:modelValue":o[3]||(o[3]=t=>s.form.details=t),error:s.form.errors.details,rows:5,class:"pb-6 w-full",placeholder:"note details here..",label:r.$t("Details")},null,8,["modelValue","error","label"]),e("div",X,[e("div",Y,[o[8]||(o[8]=e("button",{type:"submit",class:"focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 bg-gray-700 transition duration-150 ease-in-out hover:bg-indigo-600 rounded text-white px-8 py-2 text-sm"},"Submit",-1)),e("span",{class:"cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-8 py-2 text-sm",onClick:o[4]||(o[4]=t=>s.note_form=!1)},"Cancel")]),e("div",$,[s.form.id?(a(),l("span",{key:0,class:"w-36 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-8 py-2 text-sm",onClick:o[5]||(o[5]=(...t)=>i.destroy&&i.destroy(...t))},"Delete note")):c("",!0)])]),e("span",{onClick:o[6]||(o[6]=t=>s.note_form=!1),class:"cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out rounded focus:ring-2 focus:outline-none focus:ring-gray-600"},[n(m,{class:"w-6 h-6",name:"close"})])])],32)])])):c("",!0)])}const ce=T(D,[["render",ee]]);export{ce as default};
