import{Z as y,i as c,r as i,c as u,a as s,b as m,d as _,w as f,h as v,o as a,F as U,j as L,t as b,e as k}from"./app-a1pcr069.js";import{L as S}from"./Layout-CCj0oP25.js";import{T as x}from"./TextInput-BV_CAnm2.js";import{F as C}from"./FileInput-D0d9ka2x.js";import{S as F}from"./SelectInput-LDo5GZlZ.js";import{L as j}from"./LoadingButton-D7uFng42.js";import{_ as B}from"./FlashMessages-CFOcLP80.js";import"./moment-BbZOc2s_.js";import"./v4-SoommWqA.js";const E={components:{FileInput:C,Head:y,Link:c,LoadingButton:j,SelectInput:F,TextInput:x},layout:S,props:{user:Object,auth:Object,countries:Array,cities:Array,title:String},remember:"form",data(){return{form:this.$inertia.form({_method:"put",first_name:this.user.first_name,last_name:this.user.last_name,email:this.user.email,phone:this.user.phone,city:this.user.city,address:this.user.address,country_id:this.user.country_id,password:"",role:this.user.role,role_id:this.user.role_id,photo:null})}},created(){},methods:{setDefaultValue(l,r,n){const d=l.find(e=>e.name.match(new RegExp(n+".*")));d&&(this.form[r]=d.id)},update(){this.form.post(this.route("users.update",this.user.id),{onSuccess:()=>this.form.reset("password","photo")})}}},N={class:"max-w-full bg-white rounded-md shadow overflow-hidden"},P={class:"flex flex-wrap -mb-8 -mr-6 p-8"},A=["value"],H={class:"w-full lg:w-1/3 flex items-center justify-start"},I=["src"],T={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"};function D(l,r,n,d,e,p){const w=i("Head"),t=i("text-input"),V=i("select-input"),h=i("file-input"),g=i("loading-button");return a(),u("div",null,[s(w,{title:n.title},null,8,["title"]),m("div",N,[m("form",{onSubmit:r[9]||(r[9]=_((...o)=>p.update&&p.update(...o),["prevent"]))},[m("div",P,[s(t,{modelValue:e.form.first_name,"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.first_name=o),error:e.form.errors.first_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:l.$t("First name")},null,8,["modelValue","error","label"]),s(t,{modelValue:e.form.last_name,"onUpdate:modelValue":r[1]||(r[1]=o=>e.form.last_name=o),error:e.form.errors.last_name,class:"pb-8 pr-6 w-full lg:w-1/3",label:l.$t("Last name")},null,8,["modelValue","error","label"]),s(t,{modelValue:e.form.email,"onUpdate:modelValue":r[2]||(r[2]=o=>e.form.email=o),error:e.form.errors.email,class:"pb-8 pr-6 w-full lg:w-1/3",label:l.$t("Email")},null,8,["modelValue","error","label"]),s(t,{modelValue:e.form.phone,"onUpdate:modelValue":r[3]||(r[3]=o=>e.form.phone=o),error:e.form.errors.phone,class:"pb-8 pr-6 w-full lg:w-1/3",label:l.$t("Phone")},null,8,["modelValue","error","label"]),s(t,{modelValue:e.form.city,"onUpdate:modelValue":r[4]||(r[4]=o=>e.form.city=o),error:e.form.errors.city,class:"pb-8 pr-6 w-full lg:w-1/3",label:l.$t("City")},null,8,["modelValue","error","label"]),s(V,{modelValue:e.form.country_id,"onUpdate:modelValue":r[5]||(r[5]=o=>e.form.country_id=o),error:e.form.errors.country_id,class:"pr-6 pb-8 w-full lg:w-1/3",label:l.$t("Country")},{default:f(()=>[r[10]||(r[10]=m("option",{value:null},null,-1)),(a(!0),u(U,null,L(n.countries,o=>(a(),u("option",{key:o.id,value:o.id},b(l.$t(o.name)),9,A))),128))]),_:1},8,["modelValue","error","label"]),s(t,{modelValue:e.form.address,"onUpdate:modelValue":r[6]||(r[6]=o=>e.form.address=o),error:e.form.errors.address,class:"pb-8 pr-6 w-full",label:l.$t("Address")},null,8,["modelValue","error","label"]),s(t,{modelValue:e.form.password,"onUpdate:modelValue":r[7]||(r[7]=o=>e.form.password=o),error:e.form.errors.password,class:"pb-8 pr-6 w-full lg:w-1/3",type:"password",autocomplete:"new-password",label:l.$t("Password")},null,8,["modelValue","error","label"]),s(h,{modelValue:e.form.photo,"onUpdate:modelValue":r[8]||(r[8]=o=>e.form.photo=o),error:e.form.errors.photo,class:"pb-8 pr-6 w-full lg:w-1/3",type:"file",accept:"image/*",label:"Photo"},null,8,["modelValue","error"]),m("div",H,[n.user.photo_path?(a(),u("img",{key:0,class:"block mb-2 w-8 h-8 rounded-full",src:n.user.photo_path},null,8,I)):v("",!0)])]),m("div",T,[s(g,{loading:e.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:f(()=>[k(b(l.$t("Update User")),1)]),_:1},8,["loading"])])],32)])])}const Q=B(E,[["render",D]]);export{Q as default};
