import{L as w}from"./Layout-CCj0oP25.js";import{T as v}from"./TextInput-BV_CAnm2.js";import{S as V}from"./SelectInput-LDo5GZlZ.js";import{T as k}from"./TextareaInput-CORLWzzy.js";import{L as h}from"./LoadingButton-D7uFng42.js";import{i as x,Z as C,r as a,c as d,a as r,b as l,d as L,w as u,h as T,o as m,t as f,F as U,j as I,e as B}from"./app-a1pcr069.js";import{F as E}from"./FileInput-D0d9ka2x.js";import{_ as S,C as F,B as H,E as N,I as P,M as A,P as D,U as M,H as j,a as q,L as Q,b as R,T as O,c as Y,d as Z,e as z,f as G,g as J}from"./UploadAdapter-IKL1r5hU.js";import{_ as K}from"./FlashMessages-CFOcLP80.js";import"./moment-BbZOc2s_.js";import"./v4-SoommWqA.js";const W={components:{LoadingButton:h,SelectInput:V,TextareaInput:k,TextInput:v,Link:x,Head:C,FileInput:E,Ckeditor:S},layout:w,props:{post:Object,title:String,types:Array},remember:"form",data(){return{editor:F,editorConfig:{plugins:[H,N,P,A,D,M,j,q,Q,R,O,Y,Z,z,G],toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","insertTable","blockQuote","|","imageUpload","mediaEmbed","|","undo","redo"],table:{toolbar:["tableColumn","tableRow","mergeTableCells"]},extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=i=>new J(i)}]},form:this.$inertia.form({_method:"put",title:this.post.title,type_id:this.post.type_id,is_active:this.post.is_active,image:null,details:this.post.details})}},methods:{update(){this.form.post(this.route("posts.update",this.post.id),{onSuccess:()=>this.form.reset("image")})},destroy(){confirm("Are you sure you want to delete this post?")&&this.$inertia.delete(this.route("posts.destroy",this.post.id))}}},X={class:"bg-white rounded-md shadow overflow-hidden max-w-full"},$={class:"p-8 -mr-6 -mb-8 flex flex-wrap"},ee={value:null},te=["value"],oe={class:"pr-6 pb-8 w-full"},le={class:"w-full flex lg:w-1/3 justify-start"},re=["src"],se={class:"px-8 py-4 bg-gray-50 border-t border-gray-100 flex items-center"};function ie(s,e,i,ae,t,n){const b=a("Head"),g=a("text-input"),p=a("select-input"),c=a("ckeditor"),_=a("file-input"),y=a("loading-button");return m(),d("div",null,[r(b,{title:i.title},null,8,["title"]),l("div",X,[l("form",{onSubmit:e[6]||(e[6]=L((...o)=>n.update&&n.update(...o),["prevent"]))},[l("div",$,[r(g,{modelValue:t.form.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.title=o),error:t.form.errors.title,class:"pr-6 pb-8 w-full lg:w-1/2",label:s.$t("Title")},null,8,["modelValue","error","label"]),r(p,{modelValue:t.form.type_id,"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.type_id=o),error:t.form.errors.type_id,class:"pr-6 pb-8 w-full lg:w-1/4",label:s.$t("Type"),required:!0},{default:u(()=>[l("option",ee,f(s.$t("Select type")),1),(m(!0),d(U,null,I(i.types,o=>(m(),d("option",{key:o.id,value:o.id},f(o.name),9,te))),128))]),_:1},8,["modelValue","error","label"]),r(p,{modelValue:t.form.is_active,"onUpdate:modelValue":e[2]||(e[2]=o=>t.form.is_active=o),error:t.form.errors.is_active,class:"pr-6 pb-8 w-full lg:w-1/4",label:s.$t("Is Active"),required:!0},{default:u(()=>e[7]||(e[7]=[l("option",{value:1},"Yes",-1),l("option",{value:0},"No",-1)])),_:1},8,["modelValue","error","label"]),l("div",oe,[e[8]||(e[8]=l("label",{class:"form-label"},"Details:",-1)),r(c,{id:"ticketDetails",editor:t.editor,modelValue:t.form.details,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.details=o),error:t.form.errors.details,config:t.editorConfig},null,8,["editor","modelValue","error","config"])]),r(_,{modelValue:t.form.image,"onUpdate:modelValue":e[4]||(e[4]=o=>t.form.image=o),error:t.form.errors.image,class:"pb-8 pr-6 w-full lg:w-1/3",type:"file",accept:"image/*",label:s.$t("Feature image")},null,8,["modelValue","error","label"]),l("div",le,[i.post.image?(m(),d("img",{key:0,class:"block mb-2 w-10 h-10",src:i.post.image},null,8,re)):T("",!0)])]),l("div",se,[l("button",{class:"text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:e[5]||(e[5]=(...o)=>n.destroy&&n.destroy(...o))},"Delete Post"),r(y,{loading:t.form.processing,class:"btn-indigo ml-auto",type:"submit"},{default:u(()=>e[9]||(e[9]=[B("Update Post")])),_:1},8,["loading"])])],32)])])}const we=K(W,[["render",ie]]);export{we as default};
