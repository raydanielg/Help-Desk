import{Z as V,i as N,r as c,c as a,a as r,b as t,w as l,t as o,F as u,j as h,h as _,o as i,e as p}from"./app-a1pcr069.js";import{I as $}from"./moment-BbZOc2s_.js";import{S as C,t as L,p as S}from"./SearchInput-Btdhsrxv.js";import{L as I}from"./Layout-CCj0oP25.js";import{m as j}from"./mapValues-BTwQdjL6.js";import{P as B}from"./Pagination-CmEu2SMB.js";import{S as F}from"./SelectInput-LDo5GZlZ.js";import{_ as H}from"./FlashMessages-CFOcLP80.js";import"./v4-SoommWqA.js";const P={components:{SearchInput:C,Head:V,Icon:$,Link:N,SelectInput:F,Pagination:B},layout:I,props:{filters:Object,users:Object,roles:Array},data(){return{form:{search:this.filters.search,role_id:this.filters.role_id??null}}},watch:{form:{deep:!0,handler:L(function(){this.$inertia.get(this.route("users"),S(this.form),{preserveState:!0})},150)}},methods:{reset(){this.form=j(this.form,()=>null)}}},R={class:"mb-6 flex flex-col md:flex-row gap-3 justify-between items-center ticket-filters"},U={class:"filter-add-new flex flex-col gap-3 md:flex-row w-full items-center max-w-md"},E={value:null},O=["value"],z={class:"bg-white rounded-md shadow overflow-x-auto"},A={class:"w-full whitespace-nowrap"},D={class:"text-left font-bold"},T={class:"pb-4 pt-6 px-6"},Z={class:"pb-4 pt-6 px-6"},q={class:"pb-4 pt-6 px-6"},G={class:"pb-4 pt-6 px-6"},J={class:"pb-4 pt-6 px-6"},K={class:"pb-4 pt-6 px-6",colspan:"2"},M={class:"border-t"},Q=["src"],W={class:"border-t"},X={class:"border-t"},Y={class:"border-t"},ee={class:"border-t"},te={class:"border-t capitalize"},se={class:"w-px border-t"},oe={key:0};function re(s,d,f,le,m,b){const y=c("Head"),x=c("search-input"),w=c("select-input"),n=c("Link"),g=c("icon"),k=c("pagination");return i(),a("div",null,[r(y,{title:s.$t("Users")},null,8,["title"]),t("div",R,[r(x,{modelValue:m.form.search,"onUpdate:modelValue":d[0]||(d[0]=e=>m.form.search=e),class:"mr-4 w-full max-w-md",onReset:b.reset},null,8,["modelValue","onReset"]),t("div",U,[r(w,{modelValue:m.form.role_id,"onUpdate:modelValue":d[1]||(d[1]=e=>m.form.role_id=e),class:"mr-2 w-full"},{default:l(()=>[t("option",E,o(s.$t("Filter by role")),1),(i(!0),a(u,null,h(f.roles,(e,v)=>(i(),a("option",{key:v,value:e.id},o(e.name),9,O))),128))]),_:1},8,["modelValue"]),r(n,{class:"btn-indigo",href:s.route("users.create")},{default:l(()=>[t("span",null,o(s.$t("Create New")),1)]),_:1},8,["href"])])]),t("div",z,[t("table",A,[t("tbody",null,[t("tr",D,[t("th",T,o(s.$t("Name")),1),t("th",Z,o(s.$t("Email")),1),t("th",q,o(s.$t("Phone")),1),t("th",G,o(s.$t("Country")),1),t("th",J,o(s.$t("City")),1),t("th",K,o(s.$t("Role")),1)]),(i(!0),a(u,null,h(f.users.data,e=>(i(),a("tr",{key:e.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",M,[r(n,{class:"flex items-center px-6 py-4 focus:text-indigo-500",href:s.route("users.edit",e.id)},{default:l(()=>[e.photo?(i(),a("img",{key:0,class:"block -my-2 mr-2 w-5 h-5 rounded-full",src:e.photo},null,8,Q)):_("",!0),p(" "+o(e.name),1)]),_:2},1032,["href"])]),t("td",W,[r(n,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[p(o(e.email),1)]),_:2},1032,["href"])]),t("td",X,[r(n,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[p(o(e.phone),1)]),_:2},1032,["href"])]),t("td",Y,[r(n,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[p(o(s.$t(e.country)),1)]),_:2},1032,["href"])]),t("td",ee,[r(n,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[p(o(s.$t(e.city)),1)]),_:2},1032,["href"])]),t("td",te,[r(n,{class:"flex items-center px-6 py-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[p(o(e.role?e.role.name:null),1)]),_:2},1032,["href"])]),t("td",se,[r(n,{class:"flex items-center px-4",href:s.route("users.edit",e.id),tabindex:"-1"},{default:l(()=>[r(g,{name:"cheveron-right",class:"block w-6 h-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),f.users.data.length===0?(i(),a("tr",oe,d[2]||(d[2]=[t("td",{class:"px-6 py-4 border-t",colspan:"6"},"No users found.",-1)]))):_("",!0)])])]),r(k,{class:"mt-6",links:f.users.links},null,8,["links"])])}const he=H(P,[["render",re]]);export{he as default};
