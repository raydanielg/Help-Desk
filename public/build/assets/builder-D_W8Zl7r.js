import{Y as U,o as d,c as s,b as e,a as y,e as _,t as a,i as j,Z as F,r as g,F as m,j as k,f as b,X as q,y as h,h as n,g as O}from"./app-a1pcr069.js";import{L as I}from"./Layout-CCj0oP25.js";import{I as C}from"./moment-BbZOc2s_.js";import{_ as N}from"./FlashMessages-CFOcLP80.js";const D={"data-tw-backdrop":"","aria-hidden":"true",tabindex:"-1",id:"delete-confirmation-modal",class:"modal group bg-black/60 transition-[visibility,opacity] w-screen h-screen fixed left-0 top-0 [&:not(.show)]:duration-[0s,0.2s] [&:not(.show)]:delay-[0.2s,0s] [&:not(.show)]:invisible [&:not(.show)]:opacity-0 [&.show]:visible [&.show]:opacity-100 [&.show]:duration-[0s,0.4s] overflow-y-auto show z-[999]"},P={"data-tw-merge":"",class:"w-[90%] mx-auto bg-white relative rounded-md shadow-md transition-[margin-top,transform] duration-[0.4s,0.3s] -mt-16 group-[.show]:mt-16 group-[.modal-static]:scale-[1.05] dark:bg-darkmode-600 sm:w-[460px]"},T={class:"p-5 text-center"},A={class:"mt-2 text-slate-500"},B={class:"px-5 pb-8 text-center"},L={__name:"DeleteConfirmation",props:{data:{required:!0},name:{required:!1},url:{required:!1}},emits:["closePopup"],setup(l,{emit:t}){const f=t,x=l,o=U({...x.data});function p(){o.post(route(x.url),{onFinish:()=>f("closePopup")})}return(w,u)=>(d(),s("div",D,[e("div",P,[e("div",T,[y(C,{name:"info",class:"stroke-1.5 mx-auto mt-3 h-16 w-16 fill-danger"}),u[3]||(u[3]=e("div",{class:"mt-5 text-3xl"},"Are you sure?",-1)),e("div",A,[_(" Do you really want to delete "+a(l.name??"this")+"? ",1),u[1]||(u[1]=e("br",null,null,-1)),u[2]||(u[2]=_(" This process cannot be undone. "))])]),e("div",B,[e("button",{onClick:u[0]||(u[0]=v=>w.$emit("closePopup")),"data-tw-merge":"","data-tw-dismiss":"modal",type:"button",class:"transition duration-200 border shadow-sm inline-flex items-center justify-center py-2 px-3 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed border-secondary text-slate-500 dark:border-darkmode-100/40 dark:text-slate-300 [&:hover:not(:disabled)]:bg-secondary/20 [&:hover:not(:disabled)]:dark:bg-darkmode-100/10 mr-1 w-24"},"Cancel"),e("button",{onClick:p,type:"button",class:"transition duration-200 border shadow-sm inline-flex items-center justify-center py-2 px-3 rounded-md font-medium cursor-pointer focus:ring-4 focus:ring-primary focus:ring-opacity-20 focus-visible:outline-none dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&:hover:not(:disabled)]:bg-opacity-90 [&:hover:not(:disabled)]:border-opacity-90 [&:not(button)]:text-center disabled:opacity-70 disabled:cursor-not-allowed bg-red-700 border-danger text-white dark:border-danger w-24"},"Delete")])])]))}},M={metaInfo:{title:"Tickets"},components:{DeleteConfirmation:L,Link:j,Head:F,Icon:C},layout:I,props:{title:{type:String},fields:{type:Object}},data(){return{delete_element:!1,modify_input:!1,input_types:["text","textarea"],new_input:{type:"text",required:0,label:"",name:"",placeholder:"",id:null,options:[{name:"",value:""}],hint:""},form:this.$inertia.form({type:"text",required:0,label:"",name:"",placeholder:"",id:null,options:[{name:"",value:""}],hint:""})}},watch:{},methods:{deleteClose(){this.delete_element=!1},submitField(l){["select","checkbox"].includes(this.form.type)||(this.form.options=null),this.form.post(this.route("ticket-fields.store")),Object.assign(this.form,this.new_input)},modifyField(l){Object.assign(this.form,l),this.modify_input=!0},deleteField(l){this.delete_element=l.id},addOption(){this.form.options.push({name:"",value:""})},deleteOption(l,t){l.splice(t,1)}},created(){}},E={class:"intro-y mt-5 grid grid-cols-12 gap-6"},H={class:"col-span-12 lg:col-span-6"},S={class:"preview-component intro-y box"},z={class:"flex flex-col items-center border-b border-slate-200/60 p-5 dark:border-darkmode-400 sm:flex-row"},X={class:"mr-auto text-base font-medium"},Y={class:"p-5"},R={class:"grid gap-6 mb-6"},Z={class:"flex flex-col w-full"},G=["for"],J={key:0,class:"pl-2 text-xs"},K=["type","id","placeholder","required"],Q=["id"],W={value:"",disabled:""},$=["value"],ee={key:2,class:"flex flex-wrap gap-5"},re=["id","value"],oe=["for"],te=["id","placeholder"],de={key:4,class:"flex flex-col"},se=["id"],le={key:5,class:"mt-1 text-sm text-gray-500 dark:text-gray-300"},ae={class:"flex w-[100px] pt-7 justify-end"},ie=["onClick"],ne=["onClick"],ce={class:"col-span-12 lg:col-span-6"},ue={class:"preview-component intro-y box"},be={class:"flex flex-col items-center border-b border-slate-200/60 p-5 dark:border-darkmode-400 sm:flex-row"},pe={class:"mr-auto text-base font-medium"},me={class:"p-5"},he={class:"mb-4 dark:text-white"},ye={class:"flex flex-col sm:flex-row sm:flex-wrap gap-3 mb-5"},ke=["id","value"],fe=["for"],ge={class:"mb-4 pt-1 dark:text-white"},_e={class:"mt-2 flex flex-col sm:flex-row mb-6"},xe={class:"flex items-center mr-2"},we={class:"flex items-center mr-2 mt-2 sm:mt-0"},ve={class:"grid gap-6 mb-6"},qe={for:"label_name_new",class:"block mb-2 text-sm dark:text-white"},Ce={key:0,class:"form-error"},Ve={for:"name_new",class:"block mb-2 text-sm dark:text-white"},Ue={key:0,class:"form-error"},je={key:0},Fe={for:"placeholder_new",class:"block mb-2 text-sm dark:text-white"},Oe={key:1},Ie={for:"options_new",class:"block mb-2 text-sm dark:text-white"},Ne=["onUpdate:modelValue","placeholder"],De=["onUpdate:modelValue","placeholder"],Pe=["onClick"],Te={key:2},Ae={for:"hints_new",class:"block mb-2 text-sm dark:text-white"};function Be(l,t,f,x,o,p){const w=g("Head"),u=g("Icon"),v=g("icon"),V=g("delete-confirmation");return d(),s(m,null,[e("div",null,[y(w,{title:l.$t(f.title)},null,8,["title"]),e("div",E,[e("div",H,[e("div",S,[e("div",z,[e("h2",X,a(l.$t("Custom ticket input fields")),1)]),e("div",Y,[e("div",R,[(d(!0),s(m,null,k(f.fields.data,r=>(d(),s("div",{class:"flex w-full",key:r.id},[e("div",Z,[e("label",{for:["time_picker","date_picker","checkbox"].includes(r.type)?null:"ticket_field_"+r.id,class:"block mb-2 text-sm dark:text-white"},[_(a(r.label)+" ",1),r.required?n("",!0):(d(),s("small",J,"(optional)"))],8,G),["text","email","number"].includes(r.type)?(d(),s("input",{key:0,type:r.type,id:"ticket_field_"+r.id,placeholder:r.placeholder,required:r.required,class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"},null,8,K)):n("",!0),r.type==="select"?(d(),s("select",{key:1,id:"ticket_field_"+r.id,class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"},[e("option",W,a(r.placeholder),1),(d(!0),s(m,null,k(r.options,(i,c)=>(d(),s("option",{value:i.value,key:c},a(i.name),9,$))),128))],8,Q)):n("",!0),r.type==="checkbox"?(d(),s("div",ee,[(d(!0),s(m,null,k(r.options,(i,c)=>(d(),s("div",{class:"flex items-center",key:c},[e("input",{id:"ticket_checkbox_"+r.id+"_field_"+c,type:"checkbox",value:i.value,class:"w-4 h-4 text-blue-600 rounded"},null,8,re),e("label",{for:"ticket_checkbox_"+r.id+"_field_"+c,class:"ms-2 text-sm dark:text-gray-300"},a(i.name),9,oe)]))),128))])):n("",!0),r.type==="textarea"?(d(),s("textarea",{key:3,id:"ticket_field_"+r.id,rows:"2",class:"block p-2.5 w-full text-sm bg-gray-50 rounded-lg border border-gray-300 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:r.placeholder},null,8,te)):n("",!0),r.type==="file"?(d(),s("div",de,[e("input",{id:"ticket_field_"+r.id,class:"block w-full text-sm border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",type:"file"},null,8,se)])):n("",!0),r.hint?(d(),s("p",le,a(r.hint),1)):n("",!0)]),e("div",ae,[e("button",{onClick:i=>p.modifyField(r),class:"bg-white button rounded px-3 hover:bg-blue-800 hover:fill-white"},[y(u,{name:"edit",class:"w-4 h-4"})],8,ie),e("button",{onClick:i=>p.deleteField(r),class:"bg-white button rounded px-3 hover:bg-red-700 hover:fill-white"},[y(u,{name:"trash",class:"w-4 h-4"})],8,ne)])]))),128))])])])]),e("div",ce,[e("div",ue,[e("div",be,[e("h2",pe,a(l.$t("Field list")),1)]),e("div",me,[e("h3",he,a(l.$t("Select Input Type")),1),e("div",ye,[(d(!0),s(m,null,k(o.input_types,(r,i)=>(d(),s("div",{key:i,class:"flex items-center mr-2"},[b(e("input",{id:"input_type_name_"+i,name:"input_type","onUpdate:modelValue":t[0]||(t[0]=c=>o.form.type=c),value:r,type:"radio",class:"transition-all duration-100 ease-in-out border-slate-200 cursor-pointer dark:bg-darkmode-800 dark:border-transparent dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&[type='radio']]:checked:bg-primary [&[type='radio']]:checked:border-primary [&[type='radio']]:checked:border-opacity-10 [&[type='checkbox']]:checked:bg-primary [&[type='checkbox']]:checked:border-primary [&[type='checkbox']]:checked:border-opacity-10 [&:disabled:not(:checked)]:bg-slate-100 [&:disabled:not(:checked)]:cursor-not-allowed [&:disabled:not(:checked)]:dark:bg-darkmode-800/50 [&:disabled:checked]:opacity-70 [&:disabled:checked]:cursor-not-allowed [&:disabled:checked]:dark:bg-darkmode-800/50"},null,8,ke),[[q,o.form.type]]),e("label",{for:"input_type_name_"+i,class:"cursor-pointer ml-2 capitalize"},a(r.replace("_"," ")),9,fe)]))),128))]),e("h3",ge,a(l.$t("Is it required")),1),e("div",_e,[e("div",xe,[b(e("input",{id:"is_required_yes_new","onUpdate:modelValue":t[1]||(t[1]=r=>o.form.required=r),name:"is_required",value:1,type:"radio",class:"transition-all duration-100 ease-in-out border-slate-200 cursor-pointer dark:bg-darkmode-800 dark:border-transparent dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&[type='radio']]:checked:bg-primary [&[type='radio']]:checked:border-primary [&[type='radio']]:checked:border-opacity-10 [&[type='checkbox']]:checked:bg-primary [&[type='checkbox']]:checked:border-primary [&[type='checkbox']]:checked:border-opacity-10 [&:disabled:not(:checked)]:bg-slate-100 [&:disabled:not(:checked)]:cursor-not-allowed [&:disabled:not(:checked)]:dark:bg-darkmode-800/50 [&:disabled:checked]:opacity-70 [&:disabled:checked]:cursor-not-allowed [&:disabled:checked]:dark:bg-darkmode-800/50"},null,512),[[q,o.form.required]]),t[9]||(t[9]=e("label",{for:"is_required_yes_new",class:"cursor-pointer ml-2"},"Yes",-1))]),e("div",we,[b(e("input",{id:"is_required_no_new","onUpdate:modelValue":t[2]||(t[2]=r=>o.form.required=r),name:"is_required",value:0,type:"radio",class:"transition-all duration-100 ease-in-out border-slate-200 cursor-pointer dark:bg-darkmode-800 dark:border-transparent dark:focus:ring-slate-700 dark:focus:ring-opacity-50 [&[type='radio']]:checked:bg-primary [&[type='radio']]:checked:border-primary [&[type='radio']]:checked:border-opacity-10 [&[type='checkbox']]:checked:bg-primary [&[type='checkbox']]:checked:border-primary [&[type='checkbox']]:checked:border-opacity-10 [&:disabled:not(:checked)]:bg-slate-100 [&:disabled:not(:checked)]:cursor-not-allowed [&:disabled:not(:checked)]:dark:bg-darkmode-800/50 [&:disabled:checked]:opacity-70 [&:disabled:checked]:cursor-not-allowed [&:disabled:checked]:dark:bg-darkmode-800/50"},null,512),[[q,o.form.required]]),t[10]||(t[10]=e("label",{for:"is_required_no_new",class:"cursor-pointer ml-2"},"No",-1))])]),e("div",ve,[e("div",null,[e("label",qe,a(l.$t("Label")),1),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>o.form.label=r),type:"text",id:"label_name_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"E.g Name",required:""},null,512),[[h,o.form.label]]),o.form.errors.label?(d(),s("div",Ce,a(o.form.errors.label),1)):n("",!0)]),e("div",null,[e("label",Ve,a(l.$t("Name")),1),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.form.name=r),type:"text",id:"name_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"E.g name",required:""},null,512),[[h,o.form.name]]),o.form.errors.name?(d(),s("div",Ue,a(o.form.errors.name),1)):n("",!0)]),["checkbox","file"].includes(o.form.type)?n("",!0):(d(),s("div",je,[e("label",Fe,a(l.$t("Placeholder")),1),b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.form.placeholder=r),type:"text",id:"placeholder_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"E.g. Muhammad Ali",required:""},null,512),[[h,o.form.placeholder]])])),["checkbox","select"].includes(o.form.type)?(d(),s("div",Oe,[e("label",Ie,a(l.$t("Options")),1),(d(!0),s(m,null,k(o.form.options,(r,i)=>(d(),s("div",{class:"flex w-full gap-1 pb-2",key:i},[b(e("input",{type:"text","onUpdate:modelValue":c=>r.name=c,id:"options_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:l.$t("option_name"),required:""},null,8,Ne),[[h,r.name]]),b(e("input",{type:"text","onUpdate:modelValue":c=>r.value=c,id:"options_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:l.$t("option_value"),required:""},null,8,De),[[h,r.value]]),i>0?(d(),s("button",{key:0,onClick:c=>p.deleteOption(o.form.options,i),class:"flex justify-center items-center button rounded px-3 hover:bg-red-700 hover:fill-white h-10"},[y(v,{name:"trash",class:"w-4 h-4"})],8,Pe)):n("",!0)]))),128)),e("button",{class:"flex gap-1 items-center text-xs w-28 hover:underline",onClick:t[6]||(t[6]=r=>p.addOption())},[y(v,{name:"plus",class:"w-3 h-3"}),t[11]||(t[11]=_(" Add new option"))])])):n("",!0),["file"].includes(o.form.type)?(d(),s("div",Te,[e("label",Ae,a(l.$t("Hint")),1),b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.form.hint=r),type:"text",id:"hints_new",class:"bg-gray-50 border border-gray-300 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:"MAX 5MB",required:""},null,512),[[h,o.form.hint]])])):n("",!0)]),e("button",{class:"ml-auto btn-indigo w-full items-center justify-center cursor-pointer",tabindex:"-1",type:"button",onClick:t[8]||(t[8]=r=>p.submitField(o.form))},a(l.$t(o.modify_input?"Update field":"Add field")),1)])])])])]),o.delete_element?(d(),O(V,{key:0,data:{id:o.delete_element},url:"ticket-fields.delete",name:"the field",onClosePopup:p.deleteClose},null,8,["data","onClosePopup"])):n("",!0)],64)}const Se=N(M,[["render",Be]]);export{Se as default};
