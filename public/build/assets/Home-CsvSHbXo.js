import{Z as U,i as H,r as g,c as i,a,b as t,F as p,j as f,t as n,h as c,d as M,w as b,g as v,e as _,f as y,v as S,o as r,W as T,y as j}from"./app-a1pcr069.js";import{_ as B,L as I}from"./FlashMessages-CFOcLP80.js";import{L as z}from"./Layout-CelK4wxD.js";import{I as F}from"./moment-BbZOc2s_.js";import{T as q}from"./TextInput-BV_CAnm2.js";import{S as E}from"./SelectInput-LDo5GZlZ.js";import{L as A}from"./LoadingButton-D7uFng42.js";import{s as D}from"./index-CyX3R1rz.js";import{_ as R,C as N,B as O,E as P,I as Q,M as G,P as J,U as W,H as Y,a as Z,L as K,b as X,T as $,c as ee,d as te,e as le,f as se,g as oe}from"./UploadAdapter-IKL1r5hU.js";import"./v4-SoommWqA.js";const re={metaInfo:{title:"Home"},layout:z,components:{Logo:I,Icon:F,LoadingButton:A,SelectInput:E,TextInput:q,Head:U,Link:H,Ckeditor:R},props:{all_categories:{required:!0},departments:Array,types:Array,title:String,page:Object,auth:Object,custom_fields:Object,hide_ticket_fields:Array,require_login:Boolean},remember:"form",data(){return{editor:N,accept_terms:!1,html:JSON.parse(this.page.html),editorConfig:{plugins:[O,P,Q,G,J,W,Y,Z,K,X,$,ee,te,le,se],toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","insertTable","blockQuote","|","imageUpload","mediaEmbed","|","undo","redo"],table:{toolbar:["tableColumn","tableRow","mergeTableCells"]},extraPlugins:[function(s){s.plugins.get("FileRepository").createUploadAdapter=u=>new oe(u)}]},categories:[],sub_categories:[],form:this.$inertia.form({first_name:"",last_name:"",email:"",department_id:null,category_id:null,sub_category_id:null,type_id:null,subject:null,details:"",files:[],custom_field:{}}),sanitizeHtml:D}},methods:{getCategories(){this.categories=this.all_categories.filter(o=>o.department_id===this.form.department_id),this.form.category_id=null,this.$refs.category.selected=null},getSubCategories(){this.sub_categories=this.all_categories.filter(o=>o.parent_id===this.form.category_id),this.form.sub_category_id=null,this.$refs.sub_category.selected=null},uploadFiles(){this.form.files=this.$refs.files.files},store(){this.accept_terms||alert("You must need to accept the terms and condition."),this.form.post(this.route("ticket_store"),{onSuccess:()=>{this.form.reset()}})},fileInputChange(o){let s=o.target.files;for(let u=0;u<s.length;u++)this.form.files.push(s[u])},fileRemove(o,s){this.form.files.splice(s,1)},getFileSize(o){const s=Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,s)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][s]},fileBrowse(){this.$refs.file.click()}},created(){console.log(this.hide_ticket_fields),console.log("ok"),this.auth.user&&(this.form.first_name=this.auth.user.first_name,this.form.last_name=this.auth.user.last_name,this.form.email=this.auth.user.email);for(let o=0;o<this.custom_fields.length;o++)this.custom_fields[o.name]&&(this.form.custom_field[this.custom_fields[o.name]]="")}},ie={id:"home",class:"relative overflow-hidden bg-primary pt-[120px] md:pt-[130px] lg:pt-[160px]"},ne={class:"container"},ae={class:"-mx-4 flex flex-wrap items-center"},de={class:"w-full px-4"},me={class:"hero-content wow fadeInUp mx-auto max-w-[780px] text-center","data-wow-delay":".2s"},ue=["innerHTML"],ce=["innerHTML"],pe={class:"mb-10 flex flex-wrap items-center justify-center gap-6"},fe={class:"w-full px-4"},ge={class:"wow fadeInUp relative z-10 mx-auto max-w-[845px]","data-wow-delay":".25s"},be={class:"mt-16"},_e=["src"],he={key:1,src:"/landing/images/dashboard-helpdesk.png",alt:"",class:"mx-auto max-w-full rounded-t-xl rounded-tr-xl"},xe={class:"pt-20 pb-8 lg:pt-[120px] lg:pb-[70px]"},ye={class:"container"},we={class:"-mx-4 flex flex-wrap"},ve={class:"w-full px-4"},ke={class:"mb-12 max-w-[620px] lg:mb-20"},Ve={class:"mb-2 block text-lg font-semibold text-primary"},Ce={class:"mb-4 text-3xl font-bold text-dark sm:text-4xl md:text-[42px]"},Le=["innerHTML"],Ue={key:0,class:"-mx-4 flex flex-wrap"},He={class:"wow fadeInUp group mb-12 bg-white","data-wow-delay":".1s"},Me={class:"relative z-10 mb-8 flex h-[70px] w-[70px] items-center justify-center rounded-2xl bg-primary"},Se={class:"mb-3 text-xl font-bold text-dark"},Te=["innerHTML"],je={key:0,class:"relative md:py-24 py-16 bg-gray-50 dark:bg-slate-800",id:"ticketSubmit"},Be={class:"container"},Ie={class:"px-5"},ze={class:"py-5 text-center md:text-3xl text-2xl md:leading-normal leading-normal font-semibold"},Fe={class:"flex flex-wrap"},qe={value:null},Ee=["value"],Ae={value:null},De=["value"],Re={value:null},Ne=["value"],Oe={value:null},Pe=["value"],Qe={class:"pt-2 pb-8 w-full"},Ge={class:"form-label"},Je={class:"grid gap-6 mb-6"},We={class:"flex flex-col w-full"},Ye=["for"],Ze={key:0,class:"pl-2 text-xs"},Ke=["onUpdate:modelValue","type","id","placeholder","required"],Xe=["id","onUpdate:modelValue","placeholder"],$e={key:2,class:"mt-1 text-sm text-gray-500 dark:text-gray-300"},et={class:"pr-6 rtl:pl-6 pb-8 w-full lg:w-full flex-col"},tt={class:"flex-1 pr-1"},lt={class:"text-gray-500 text-xs"},st=["onClick"],ot={class:"flex items-start mb-5"},rt={class:"flex items-center h-5"},it={for:"terms",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},nt=["href"],at={class:"px-4 py-4 border-t border-gray-100 flex justify-end"};function dt(o,s,u,mt,l,d){const k=g("Head"),V=g("Link"),w=g("icon"),h=g("text-input"),x=g("select-input"),C=g("ckeditor"),L=g("loading-button");return r(),i("div",null,[a(k,{title:o.$t("Home")},null,8,["title"]),t("div",ie,[t("div",ne,[t("div",ae,[t("div",de,[t("div",me,[t("h1",{class:"mb-8 text-3xl font-bold leading-snug text-white sm:text-4xl sm:leading-snug md:text-[45px] md:leading-snug",innerHTML:l.sanitizeHtml(l.html.sections[0].title)},null,8,ue),t("p",{class:"mx-auto mb-10 max-w-[600px] text-base text-[#e4e4e4] sm:text-lg sm:leading-relaxed md:text-xl md:leading-relaxed",innerHTML:l.sanitizeHtml(l.html.sections[0].details)},null,8,ce),t("ul",pe,[(r(!0),i(p,null,f(l.html.sections[0].buttons,(e,m)=>(r(),i("li",{key:m},[a(V,{href:e.link,class:"inline-flex items-center justify-center rounded-lg bg-white py-4 px-6 text-center text-base font-medium text-dark transition duration-300 ease-in-out hover:text-primary hover:shadow-lg sm:px-10"},{default:b(()=>[_(n(e.text),1)]),_:2},1032,["href"])]))),128))])])]),t("div",fe,[t("div",ge,[t("div",be,[l.html.sections[0].image?(r(),i("img",{key:0,src:l.html.sections[0].image,alt:"",class:"mx-auto max-w-full rounded-t-xl rounded-tr-xl"},null,8,_e)):(r(),i("img",he))]),s[15]||(s[15]=t("div",{class:"absolute bottom-0 -left-9 z-[-1]"},[t("img",{src:"/images/svg/dot-1.svg",alt:"dot"})],-1)),s[16]||(s[16]=t("div",{class:"absolute -top-6 -right-6 z-[-1]"},[t("img",{src:"/images/svg/dot-2.svg",alt:"dot"})],-1))])])])])]),t("section",xe,[t("div",ye,[t("div",we,[t("div",ve,[t("div",ke,[t("span",Ve,n(l.html.sections[1].tagline),1),t("h2",Ce,n(l.html.sections[1].title),1),t("p",{class:"text-lg leading-relaxed text-body-color sm:text-xl sm:leading-relaxed",innerHTML:l.html.sections[1].details},null,8,Le)])])]),l.html.sections[1]?(r(),i("div",Ue,[(r(!0),i(p,null,f(l.html.sections[1].features,(e,m)=>(r(),i("div",{key:m,class:"w-full px-4 md:w-1/2 lg:w-1/4"},[t("div",He,[t("div",Me,[s[17]||(s[17]=t("span",{class:"absolute top-0 left-0 z-[-1] mb-8 flex h-[70px] w-[70px] rotate-[25deg] items-center justify-center rounded-2xl bg-primary bg-opacity-20 duration-300 group-hover:rotate-45"},null,-1)),a(w,{name:e.icon,class:"w-8 h-8 fill-white"},null,8,["name"])]),t("h4",Se,n(e.title),1),t("p",{class:"mb-8 text-body-color lg:mb-11",innerHTML:e.details},null,8,Te)])]))),128))])):c("",!0)])]),l.html.sections[2].enable_ticket_section?(r(),i("section",je,[t("div",Be,[t("form",{class:"card mt-2 p-4 rounded shadow-xl overflow-hidden",onSubmit:s[14]||(s[14]=M((...e)=>d.store&&d.store(...e),["prevent"])),enctype:"multipart/form-data"},[t("div",Ie,[t("h1",ze,n(o.$t("Create a ticket")),1),s[19]||(s[19]=t("div",{class:"mx-auto mb-6 mt-1 w-24 border-b"},null,-1)),t("div",Fe,[a(h,{modelValue:l.form.first_name,"onUpdate:modelValue":s[0]||(s[0]=e=>l.form.first_name=e),error:l.form.errors.last_name,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("First name")},null,8,["modelValue","error","label"]),a(h,{modelValue:l.form.last_name,"onUpdate:modelValue":s[1]||(s[1]=e=>l.form.last_name=e),error:l.form.errors.last_name,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Last name")},null,8,["modelValue","error","label"]),a(h,{modelValue:l.form.email,"onUpdate:modelValue":s[2]||(s[2]=e=>l.form.email=e),error:l.form.errors.email,class:"pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Email Address")},null,8,["modelValue","error","label"]),a(h,{modelValue:l.form.subject,"onUpdate:modelValue":s[3]||(s[3]=e=>l.form.subject=e),error:l.form.errors.subject,class:"pb-5 pr-6 rtl:pr-0 rtl:pl-6 w-full lg:w-2/3",label:o.$t("Subject")},null,8,["modelValue","error","label"]),a(x,{modelValue:l.form.type_id,"onUpdate:modelValue":s[4]||(s[4]=e=>l.form.type_id=e),error:l.form.errors.type_id,class:"pr-6 rtl:pr-0 rtl:pl-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Ticket type")},{default:b(()=>[t("option",qe,n(o.$t("Select a type")),1),(r(!0),i(p,null,f(u.types,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,Ee))),128))]),_:1},8,["modelValue","error","label"]),a(x,{onChange:s[5]||(s[5]=e=>d.getCategories()),modelValue:l.form.department_id,"onUpdate:modelValue":s[6]||(s[6]=e=>l.form.department_id=e),error:l.form.errors.department_id,class:"pr-6 pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Department")},{default:b(()=>[t("option",Ae,n(o.$t("Select a department")),1),(r(!0),i(p,null,f(u.departments,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,De))),128))]),_:1},8,["modelValue","error","label"]),l.form.department_id?(r(),v(x,{key:0,ref:"category",onChange:s[7]||(s[7]=e=>d.getSubCategories()),modelValue:l.form.category_id,"onUpdate:modelValue":s[8]||(s[8]=e=>l.form.category_id=e),error:l.form.errors.category_id,class:"pb-5 pr-6 md:col-span-6 lg:w-1/3",label:o.$t("Category")},{default:b(()=>[t("option",Re,n(o.$t("Select a category")),1),(r(!0),i(p,null,f(l.categories,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,Ne))),128))]),_:1},8,["modelValue","error","label"])):c("",!0),l.form.category_id?(r(),v(x,{key:1,ref:"sub_category",modelValue:l.form.sub_category_id,"onUpdate:modelValue":s[9]||(s[9]=e=>l.form.sub_category_id=e),error:l.form.errors.sub_category_id,class:"pb-5 md:col-span-6 lg:w-1/3",label:o.$t("Sub Category")},{default:b(()=>[t("option",Oe,n(o.$t("Select a sub category")),1),(r(!0),i(p,null,f(l.sub_categories,e=>(r(),i("option",{key:e.id,value:e.id},n(e.name),9,Pe))),128))]),_:1},8,["modelValue","error","label"])):c("",!0),t("div",Qe,[t("label",Ge,n(o.$t("Request Details")),1),a(C,{id:"ticketDetails",editor:l.editor,modelValue:l.form.details,"onUpdate:modelValue":s[10]||(s[10]=e=>l.form.details=e),error:l.form.errors.details,config:l.editorConfig},null,8,["editor","modelValue","error","config"])])]),t("div",Je,[(r(!0),i(p,null,f(u.custom_fields,e=>(r(),i("div",{class:"flex w-full",key:e.id},[t("div",We,[t("label",{for:["checkbox"].includes(e.type)?null:"ticket_field_"+e.id,class:"block mb-2 text-sm text-gray-900 dark:text-white"},[_(n(e.label)+" ",1),e.required?c("",!0):(r(),i("small",Ze,"(optional)"))],8,Ye),["text","email","number"].includes(e.type)?y((r(),i("input",{key:0,"onUpdate:modelValue":m=>l.form.custom_field[e.name]=m,type:e.type,id:"ticket_field_"+e.id,placeholder:e.placeholder,required:e.required,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"},null,8,Ke)),[[T,l.form.custom_field[e.name]]]):c("",!0),e.type==="textarea"?y((r(),i("textarea",{key:1,id:"ticket_field_"+e.id,rows:"2","onUpdate:modelValue":m=>l.form.custom_field[e.name]=m,class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",placeholder:e.placeholder},null,8,Xe)),[[j,l.form.custom_field[e.name]]]):c("",!0),e.hint?(r(),i("p",$e,n(e.hint),1)):c("",!0)])]))),128))]),t("input",{ref:"file",type:"file",accept:".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf, .zip",class:"hidden",multiple:"multiple",onChange:s[11]||(s[11]=(...e)=>d.fileInputChange&&d.fileInputChange(...e))},null,544),t("div",et,[t("button",{type:"button",class:"btn flex justify-center items-center border-0",onClick:s[12]||(s[12]=(...e)=>d.fileBrowse&&d.fileBrowse(...e))},[a(w,{name:"file",class:"flex-shrink-0 h-8 fill-gray-400 pr-2 rtl:pl-2"}),s[18]||(s[18]=_()),t("h4",null,n(o.$t("Attach files")),1)]),l.form.files.length?(r(!0),i(p,{key:0},f(l.form.files,(e,m)=>(r(),i("div",{class:"flex items-center justify-between pr-6 pt-8 w-full lg:w-1/2",key:m},[t("div",tt,[_(n(e.name)+" ",1),t("span",lt,"("+n(d.getFileSize(e.size))+")",1)]),t("button",{type:"button",class:"btn flex justify-center items-center",onClick:ut=>d.fileRemove(e,m)},n(o.$t("Remove")),9,st)]))),128)):c("",!0)]),t("div",ot,[t("div",rt,[y(t("input",{id:"terms",type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=e=>l.accept_terms=e),class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800",required:""},null,512),[[S,l.accept_terms]])]),t("label",it,[_(n(o.$t("I agree with the"))+" ",1),t("a",{href:this.route("terms_service"),target:"_blank",class:"text-blue-600 hover:underline dark:text-blue-500"},n(o.$t("terms and conditions")),9,nt)])])]),t("div",at,[a(L,{loading:l.form.processing,class:"rounded-lg bg-primary py-3 px-6 text-base font-medium text-white duration-300 ease-in-out hover:bg-opacity-80",type:"submit"},{default:b(()=>[_(n(o.$t("Submit")),1)]),_:1},8,["loading"])])],32)])])):c("",!0)])}const vt=B(re,[["render",dt]]);export{vt as default};
