import{Z as k,i as x,r as g,c as o,a as _,b as t,t as e,l as d,h,F as p,j as m,e as w,o as n}from"./app-a1pcr069.js";import{L as y}from"./Layout-CCj0oP25.js";import{I as N}from"./moment-BbZOc2s_.js";import{_ as C}from"./FlashMessages-CFOcLP80.js";const T={metaInfo:{title:"Dashboard"},components:{Head:k,Icon:N,Link:x},layout:y,props:{auth:Object,entries:Array,chart_line:Object,api_key:String,new_tickets:Number,total_tickets:Number,un_assigned_tickets:Number,opened_tickets:Number,closed_tickets:Number,first_response:Array,top_creators:Array,last_response:Array,top_departments:Array,top_types:Array,total_customer:Number,total_contacts:Number},data(){return{errors:[],loading:!1,firstResponse:[],lastResponse:[],months:[]}},created(){for(let s=0;s<this.first_response.length;s++)s%2===0&&(this.firstResponse=[...this.firstResponse,[this.first_response[s],this.first_response[s+1]]]);for(let s=0;s<this.last_response.length;s++)s%2===0&&(this.lastResponse=[...this.lastResponse,[this.last_response[s],this.last_response[s+1]]]);this.months=this.chart_line.previousMonths.map(s=>({month:s,value:this.chart_line.months[s]?this.chart_line.months[s]*100/this.chart_line.total+"%":"0%"}))},methods:{goToLink(s){window.location.href=s}}},j={class:"badge__items flex flex-col lg:flex-row gap-5"},R={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},I={class:"badge__info"},L={class:"title"},A={class:"number"},z={class:"a__right"},B={class:"round_circle pr-3 rtl:pl-3"},V={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},D={class:"badge__info"},F={class:"title"},H={class:"number"},M={class:"a__right"},O={class:"round_circle pr-3 rtl:pl-3"},S={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},E={class:"badge__info"},U={class:"title"},Y={class:"number"},Z={class:"a__right"},q={class:"round_circle pr-3 rtl:pl-3"},G={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},J={class:"badge__info"},K={class:"title"},P={class:"number"},Q={class:"a__right"},W={class:"round_circle pr-3 rtl:pl-3"},X={key:0,class:"response__details mt-8 flex gap-5 flex-col lg:flex-row"},$={class:"w-full"},tt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},st={class:"th__ttl font-bold text-lg pt-3"},et={class:"th__info flex flex-col pt-3"},it={class:"w-full"},lt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},ot={class:"th__ttl font-bold text-lg pt-3"},nt={class:"th__info flex flex-col pt-3"},at={class:"w-full"},ct={class:"r__wrapper flex flex-col pl-5 pl-5 pb-5 bg-white items-center rounded-lg shadow-lg rd"},rt={class:"th__ttl font-bold text-lg pt-3"},_t={class:"th__info flex flex-col pt-3"},dt={key:1,class:"response__details flex flex-col lg:flex-row mt-8 gap-5"},ht={class:"flex gap-5 flex-col lg:flex-row lg:w-10/12"},ft={class:"w-full"},ut={class:"r__wrapper flex flex-col p-5 bg-white rounded-lg shadow-lg rd"},gt={class:"th__ttl font-bold text-lg pt-3"},pt={class:"th__info flex"},mt={class:"text-2xl font-bold"},vt={class:"pt-2 text-xs pl-1 pr-1"},wt={class:"pt-2 text-xs font-bold pl-2 pr-2"},bt={key:0,class:"flex w-full justify-center c__wrapper"},kt={class:"c__line flex flex-col w-full items-center gap-3"},xt={class:"cl__n text-xs"},yt={class:"rd w-full lg:w-2/5"},Nt={class:"r__wrapper flex flex-col pl-5 pr-5 pb-5 bg-white rounded-lg shadow-lg rd"},Ct={class:"res__info"},Tt={class:"title"},jt={class:"res_avg"},Rt={class:"flex justify-start"},It={class:"num"},Lt={class:"text"},At={key:1,class:"res_time pr-5"},zt={class:"tc__info"},Bt={class:"title"},Vt={class:"res_avg"},Dt={class:"flex justify-start"},Ft={class:"num"},Ht={class:"text"},Mt={key:1,class:"res_time pr-5"},Ot={class:"flex gap-5 flex-col lg:w-2/12"},St={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},Et={class:"badge__info"},Ut={class:"title"},Yt={class:"number"},Zt={class:"a__right"},qt={class:"l__items bg-white rounded-lg shadow-lg flex justify-between w-full"},Gt={class:"badge__info"},Jt={class:"title"},Kt={class:"number"},Pt={class:"a__right"},Qt={key:2,class:"processing-overlay"},Wt={class:"loader"},Xt={width:"200px",height:"200px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"none"}};function $t(s,l,i,ts,c,r){const b=g("Head"),f=g("vc-donut"),v=g("icon");return n(),o("div",null,[_(b,{title:s.$t("Dashboard")},null,8,["title"]),t("div",j,[t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:l[0]||(l[0]=a=>r.goToLink(this.route("tickets",{type:"new"})))},[t("div",R,[t("div",I,[t("span",L,e(s.$t("New Tickets")),1),t("span",A,e(i.new_tickets),1)]),t("div",z,[t("div",B,[t("div",{class:"pie animate",style:d({"--pie_val":parseInt(i.new_tickets*100/i.total_tickets)})},e(parseInt(i.new_tickets*100/i.total_tickets)||0)+"%",5)])])])]),t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:l[1]||(l[1]=a=>r.goToLink(this.route("tickets",{type:"open"})))},[t("div",V,[t("div",D,[t("span",F,e(s.$t("Open Tickets")),1),t("span",H,e(i.opened_tickets),1)]),t("div",M,[t("div",O,[t("div",{class:"pie animate",style:d({"--pie_val":parseInt(i.opened_tickets*100/i.total_tickets)})},e(parseInt(i.opened_tickets*100/i.total_tickets)||0)+"%",5)])])])]),t("div",{class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:l[2]||(l[2]=a=>r.goToLink(this.route("tickets",{search:"close"})))},[t("div",S,[t("div",E,[t("span",U,e(s.$t("Closed Tickets")),1),t("span",Y,e(i.closed_tickets),1)]),t("div",Z,[t("div",q,[t("div",{class:"pie animate",style:d({"--pie_val":parseInt(i.closed_tickets*100/i.total_tickets)})},e(parseInt(i.closed_tickets*100/i.total_tickets)||0)+"%",5)])])])]),i.auth.user.role.slug!=="customer"?(n(),o("div",{key:0,class:"badge__item h-32 w-full lg:w-1/4 cursor-pointer",onClick:l[3]||(l[3]=a=>r.goToLink(this.route("tickets",{type:"un_assigned"})))},[t("div",G,[t("div",J,[t("span",K,e(s.$t("Unassigned Tickets")),1),t("span",P,e(i.un_assigned_tickets),1)]),t("div",Q,[t("div",W,[t("div",{class:"pie animate",style:d({"--pie_val":parseInt(i.un_assigned_tickets*100/i.total_tickets)})},e(parseInt(i.un_assigned_tickets*100/i.total_tickets)||0)+"%",5)])])])])):h("",!0)]),i.auth.user.role.slug!=="customer"?(n(),o("div",X,[t("div",$,[t("div",tt,[t("h2",st,e(s.$t("Ticket by department")),1),t("div",et,[_(f,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_departments,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])]),t("div",it,[t("div",lt,[t("h2",ot,e(s.$t("Ticket by type")),1),t("div",nt,[_(f,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_types,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])]),t("div",at,[t("div",ct,[t("h2",rt,e(s.$t("Top ticket creator")),1),t("div",_t,[_(f,{background:"white",foreground:"grey",size:120,unit:"px",thickness:45,"has-legend":"","legend-placement":"right",sections:i.top_creators,total:100,"start-angle":0,"auto-adjust-text-size":!0},null,8,["sections"])])])])])):h("",!0),i.auth.user.role.slug!=="customer"?(n(),o("div",dt,[t("div",ht,[t("div",ft,[t("div",ut,[t("h2",gt,e(s.$t("Ticket history")),1),t("div",pt,[t("span",mt,e(i.chart_line.this_month),1),t("span",vt,"/ "+e(s.$t("this month")),1),t("span",wt,e(s.$t("last month"))+" "+e(i.chart_line.last_month),1)]),c.months.length?(n(),o("div",bt,[(n(!0),o(p,null,m(c.months,a=>(n(),o("div",kt,[t("span",{class:"cl__b",style:d({"--cl_value":a.value})},null,4),t("span",xt,e(a.month),1)]))),256))])):h("",!0)])]),t("div",yt,[t("div",Nt,[t("div",Ct,[t("span",Tt,e(s.$t("First Response Time")),1),t("span",jt,e(s.$t("Average")),1),t("div",Rt,[c.firstResponse.length?(n(!0),o(p,{key:0},m(c.firstResponse,(a,u)=>(n(),o("div",{class:"res_time pr-5",key:u},[t("span",It,e(a[0]),1),t("span",Lt,e(s.$t(a[1])),1)]))),128)):(n(),o("div",At," 0 "))])]),t("div",zt,[t("span",Bt,e(s.$t("Last Response Time")),1),t("span",Vt,e(s.$t("Average")),1),t("div",Dt,[c.lastResponse.length?(n(!0),o(p,{key:0},m(c.lastResponse,(a,u)=>(n(),o("div",{class:"res_time pr-5",key:u},[t("span",Ft,e(a[0]),1),t("span",Ht,e(s.$t(a[1])),1)]))),128)):(n(),o("div",Mt," 0 "))])])])])]),t("div",Ot,[t("div",{class:"badge__item h-32 w-full cursor-pointer",onClick:l[4]||(l[4]=a=>r.goToLink(this.route("users")))},[t("div",St,[t("div",Et,[t("span",Ut,e(s.$t("Customers")),1),t("span",Yt,e(i.total_customer),1)]),t("div",Zt,[_(v,{name:"pending_users",class:"h-5 fill-gray-400 mr-5 ml-5"})])])]),t("div",{class:"badge__item h-32 w-full cursor-pointer",onClick:l[5]||(l[5]=a=>r.goToLink(this.route("contacts")))},[t("div",qt,[t("div",Gt,[t("span",Jt,e(s.$t("Contacts")),1),t("span",Kt,e(i.total_contacts),1)]),t("div",Pt,[_(v,{name:"contact",class:"h-5 fill-gray-400 mr-5 ml-5"})])])])])])):h("",!0),c.loading?(n(),o("div",Qt,[l[9]||(l[9]=t("div",{class:"background"},null,-1)),t("div",Wt,[l[7]||(l[7]=w(" `")),(n(),o("svg",Xt,l[6]||(l[6]=[t("circle",{cx:"75",cy:"50",fill:"#ffffff",r:"6.39718"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.875s"})],-1),t("circle",{cx:"67.678",cy:"67.678",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.75s"})],-1),t("circle",{cx:"50",cy:"75",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.625s"})],-1),t("circle",{cx:"32.322",cy:"67.678",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.5s"})],-1),t("circle",{cx:"25",cy:"50",fill:"#ffffff",r:"4.8"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.375s"})],-1),t("circle",{cx:"32.322",cy:"32.322",fill:"#ffffff",r:"4.80282"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.25s"})],-1),t("circle",{cx:"50",cy:"25",fill:"#ffffff",r:"6.40282"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"-0.125s"})],-1),t("circle",{cx:"67.678",cy:"32.322",fill:"#ffffff",r:"7.99718"},[t("animate",{attributeName:"r",values:"4.8;4.8;8;4.8;4.8",times:"0;0.1;0.2;0.3;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})],-1)]))),l[8]||(l[8]=w("` "))])])):h("",!0)])}const os=C(T,[["render",$t]]);export{os as default};
